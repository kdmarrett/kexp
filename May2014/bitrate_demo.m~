%bitrate script Nov 22 update
clear all
close all

blocks = 5;
rep_block = 4;
letters_wheel = [5:8]';
wheel_num = [5 5 4 3]';
IWI = [60 70 80 90 100];
%IWI  = IWI(1);
selections = zeros(4, 1);
block_time = zeros(4, 1);
loop_time = zeros(4, 1);

for j = 1:length(IWI)
for i = 1:4
ILI(i, j) = wheel_num(i) * IWI(j) + IWI(j);
loop_time(i, j) = ILI(i, j) * letters_wheel(i) + IWI(j) * (wheel_num(i) - 1);
loop_time(i, j) = loop_time(i, j)./ 1000;
block_time(i, j) = (loop_time(i, j) * rep_block);
tot_trial_time(i, j) = block_time(i, j) * blocks;
selections(i, j) = wheel_num(i) * letters_wheel(i);
ratio(i, j) = selections(i) / loop_time(i, j);
end
end

selections
letters_wheel
wheel_num
mat = [loop_time ratio selections]
%subplot(2, 1, 1)
bar3(mat)
%subplot(2, 1, 2)
% bar(ILI)
 
% xlabel('letters per wheel')
% ylabel('number of wheels')
% zlabel('time of full letter sweep (ms)')

P = [.80 .90 .95]; %probability of occurring

for j = 1:length(P)
for i= 1:4
N = selections(i); %possible outputs
B(i, j) = log2(N) + P(j) * log2(P(j)) + (1 - P(j)) * log2((1 - P(j))/(N - 1));
end
end
